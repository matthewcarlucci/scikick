
### Git History ###

```{r, include=TRUE, echo=FALSE}


commits = tryCatch({
    suppressWarnings({git2r::commits(git2r::repository("."))})
}, error=function(e) {
    list()
}, warning=function(e) {
    list()
})

glog = data.frame()
if(length(commits) > 0) {
    glog = data.frame(author=sapply(commits, function(x) x$author$name),
        date=sapply(commits, function(x)
            format(x$author$when, "%Y $M %D %H %M")),
        subject=sapply(commits, function(x) x$message), stringsAsFactors=FALSE)
} else {
    glog = data.frame(author="user", date=Sys.Date(), subject="no git history",
        stringsAsFactors=FALSE)
}
```

### List of Contributors ###  

```{r, include=TRUE, echo=FALSE}
authors = as.data.frame(table(glog$author))
colnames(authors) = c("author", "commits")

knitr::kable(authors, "markdown", align=rep("l", 2))

```

### List of Changes ###  

```{r, include=TRUE, echo=FALSE}

# trim if subject line is too long to fit on screen
glog$subject = ifelse(nchar(glog$subject) > 80, paste0(strtrim(glog$subject, 80), "..."), glog$subject)
glog$subject = gsub("_", " ", glog$subject)
knitr::kable(glog, "markdown", align=rep("l", 4))

```

